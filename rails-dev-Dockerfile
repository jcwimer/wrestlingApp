FROM ruby:2.3.0

RUN apt-get update

RUN apt-get install -y build-essential
RUN apt-get install -y nodejs sqlite3

ENV WRESTLINGDEV_SECRET_KEY_BASE 077cdbef5c2ccf22543fb17a67339f234306b7fa2e1e4463d851c444c10a5611829a2290b253da78339427f131571fac9a42c83d960b2d25ecc10a4a0a7ce1a2
ENV WRESTLINGDEV_DEVISE_SECRET_KEY 2f29d49db6704377ba263f7cb9db085b386bcb301c0cd501126a674686ab1a109754071165b08cd72af03cec4642a4dd04361c994462254dd5d85e9594e8b9aa

RUN gem install --no-rdoc --no-ri bundler
ADD Gemfile* /tmp/
WORKDIR /tmp
RUN bundle install --without production

RUN mkdir /rails
WORKDIR /rails
VOLUME ["/rails"]

EXPOSE 3000

CMD /bin/bash
