<% cache ["#{@tournament.id}_all_brackets", @tournament] do %>

    <style>
    .pagebreak { 
      page-break-after: always;
      border: none;
        margin: 0px;
        padding: 0px;
        width: 7in; /* width: 7in; */
        height: 9.5in; /* or height: 9.5in; */
        font-size: 10px;
        position: relative;
        left: 1in;
        height: 1in;
    }
    
    
    
    </style>
    
    <div id="exportable">
    <% @tournament.weights.sort_by{|w| w.max}.each do |w| %>
        <table class='pagebreak'>
        <h5><strong><%= @tournament.name %> - <%= w.max %> lbs Bracket</strong></h5>
        <tr>
            <td valign="top" style="padding: 10px;">
                <% @weight = w %>
                <% @matches = @tournament.matches.select{|m| m.weight_id == @weight.id} %>
                <% @wrestlers = Wrestler.where(weight_id: @weight.id) %>
                <% @pools = w.poolRounds(@matches) %>
                <%= render 'pool' %>
            </td>
            
            
            <td valign="top" style="padding: 10px;">
                <% if w.pool_bracket_type == "twoPoolsToFinal" %>
                	<%= render 'twoPoolFinalBracket' %>
                <% end %>
                <% if w.pool_bracket_type == "twoPoolsToSemi" %>
                	<%= render 'twoPoolSemiBracket' %>
                <% end %>
                <% if w.pool_bracket_type == "fourPoolsToQuarter" %>
                	<%= render 'fourPoolQuarterBracket' %>
                <% end %>
                <% if w.pool_bracket_type == "fourPoolsToSemi" %>
                	<%= render 'fourPoolSemiBracket' %>
                <% end %>
            </td>
        </tr>
        </table>
    <% end %>
    </div>
<% end %>